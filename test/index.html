<!DOCTYPE html>
<html lang="en" class="page page-class">
	<head>

		<style>
			body{background: black; padding:10px;}
			.item { width: 25%; height: 300px;background: white; -webkit-transition:0.2s all ease-in-out;}
			.item.w2 { width: 50%; height: 200px; }
			.item2 { background: red; }
			.item3 { background: green; }
		</style>

	</head>
	<body>
	
		<div id="container">
  			<div class="item" id="item1">1</div>
  			<div class="item item2 w2">2 
  				<a href="" id="here">click here</a>
  			</div>
  			<div class="item item3">3 
  				<a href="" id="here2">click here</a>
  			</div>
		</div>

		<script src="bower_components/packery/dist/packery.pkgd.min.js"></script>
		<script>
			var container = document.querySelector('#container');
			var button = document.querySelector('#here');
			var item1 = document.querySelector('#item1');
			var button2 = document.querySelector('#here2');
			var items = document.getElementsByClassName("item")
			// init
			var pckry = new Packery( container, {
			  // options
			  itemSelector: '.item',
			  gutter: 20,
			  transitionDuration: '0.2s'
			});

			button.addEventListener("click", function(e) {
				e.preventDefault();
				for(i=0; i < items.length; i++) {
					if(items[i] !== item1)
						items[i].style.opacity = "0";
				}
				setTimeout(function(){
					item1.style.height = "200px";
					item1.style.width = "25%";
					setTimeout(function() {
						pckry.layout();
						setTimeout(function() {
							for(i=0; i < items.length; i++) {
								items[i].style.opacity = "1";
							}
						});
					}, 250);
				}, 250);
			});

			button2.addEventListener("click", function(e) {
				e.preventDefault();
				for(i=0; i < items.length; i++) {
					if(items[i] !== item1)
						items[i].style.opacity = "0";
				}
				setTimeout(function(){
					item1.style.height = "400px";
					item1.style.width = "400px";
					setTimeout(function() {
						pckry.layout();
						setTimeout(function() {
							for(i=0; i < items.length; i++) {
								items[i].style.opacity = "1";
							}
						});
					}, 250);
				}, 250);
			});

		</script>

	</body>
</html>